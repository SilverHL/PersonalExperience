#关于C 与 C++的 const的一些总结 

#首先我们来看C

#首先是未初始化的全局变量  包括标量型别以及const
假设定义变量为 int a 在汇编中a的段是comm
     .comm   a,4,4    
    然后我们用objdump读取编译后的文件 
    objdump -t 1.1.o
    得到的信息为
    
    0000000000000004       O *COM*	0000000000000004 u_i
    0000000000000004       O *COM*	0000000000000004 c_u_i
    0000000000000000 g     O .data	0000000000000004 i_i
    0000000000000000 g     O .rodata	0000000000000004 c_i_i

    将文件连接以后 得到的信息为
    000000000020101c g     O .bss	0000000000000004              u_i
    0000000000201018 g     O .bss	0000000000000004              c_u_i
    0000000000201010 g     O .data	0000000000000004              i_i
    0000000000000694 g     O .rodata	0000000000000004              c_i_i

    所以 
    未初始化的全局变量以及const都被放在了bss段
    而初始化过的变量 普通的数据类型被放在data段
    const被放在了rodata段

#然后是static变量
    
    编译未链接的static变量
    0000000000000000 l     O .bss	0000000000000004 s_u_i
    0000000000000000 l     O .data	0000000000000004 s_i_i
    未初始化过的在bss段
    初始化过的放在data段

    链接后也是一样

#至此问题就明朗了 然后是C++

#先是static类型变量

    编译未链接以及链接后位置相同
    0000000000000000 l     O .bss	0000000000000004 _ZL5s_u_i
    0000000000000000 l     O .data	0000000000000004 _ZL5s_i_i

    局部static变量 位置与全局相同
    0000000000000000 l     O .bss	0000000000000004 _ZZ4mainE7l_s_u_i
    0000000000000000 l     O .data	0000000000000004 _ZZ4mainE7l_s_i_i

#然后是标量型别以及const

    0000000000000000 g     O .bss	0000000000000004 u_i
    0000000000000000 g     O .data	0000000000000004 i_i

    C++不允许未初始化的const变量
    初始化后的全局const放在rodata中
    0000000000000000 l     O .rodata	0000000000000004 _ZL5c_i_i

    局部的const 如int 会被替换成对应的数字 结构体的话也是被替换了但是在c中会有一个指针指向结构体

